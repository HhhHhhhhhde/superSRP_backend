# âš¡ è¶…çº§çŸ³å¤´å‰ªåˆ€å¸ƒ - åç«¯å¿«é€Ÿéƒ¨ç½²

## ğŸ¯ ç›®æ ‡

å°†åç«¯APIéƒ¨ç½²åˆ°Railwayï¼Œä¸å‰ç«¯ https://supersrp-production.up.railway.app/ è¿é€šã€‚

---

## ğŸ“¦ ç¬¬ä¸€æ­¥ï¼šæ¨é€ä»£ç åˆ°GitHubï¼ˆ5åˆ†é’Ÿï¼‰

### 1.1 æ‰“å¼€PowerShell/ç»ˆç«¯

```powershell
# è¿›å…¥åç«¯é¡¹ç›®ç›®å½•
cd "d:\å­¦ä¹ èµ„æ–™\å“ˆåŸºç±³å“Ÿå¤§ä¸‰ä¸Šå¤š\Server-side Development\Back end"
```

### 1.2 åˆå§‹åŒ–Gitå¹¶æ¨é€

```bash
# åˆå§‹åŒ–Gitä»“åº“
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤ä»£ç 
git commit -m "éƒ¨ç½²åç«¯åˆ°Railway"

# åˆ›å»ºGitHubä»“åº“
# 1. è®¿é—® https://github.com/new
# 2. ä»“åº“åï¼šsuper-rps-backend ï¼ˆå…¬å¼€/ç§æœ‰éƒ½å¯ä»¥ï¼‰
# 3. ä¸è¦å‹¾é€‰ä»»ä½•åˆå§‹åŒ–é€‰é¡¹
# 4. ç‚¹å‡» Create repository

# æ¨é€åˆ°GitHubï¼ˆæ›¿æ¢ä¸ºä½ çš„GitHubç”¨æˆ·åï¼‰
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/super-rps-backend.git
git branch -M main
git push -u origin main
```

---

## ğŸš€ ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åˆ°Railwayï¼ˆ10åˆ†é’Ÿï¼‰

### 2.1 åˆ›å»ºé¡¹ç›®å¹¶éƒ¨ç½²

1. **è®¿é—®Railway**
   - æ‰“å¼€ https://railway.app
   - ä½¿ç”¨GitHubè´¦å·ç™»å½•

2. **æ–°å»ºé¡¹ç›®**
   - ç‚¹å‡» **"New Project"**
   - é€‰æ‹© **"Deploy from GitHub repo"**
   - é€‰æ‹© `super-rps-backend` ä»“åº“
   - ç‚¹å‡» **"Deploy Now"**

3. **ç­‰å¾…éƒ¨ç½²**
   - Railwayä¼šè‡ªåŠ¨æ£€æµ‹Javaé¡¹ç›®
   - è¿è¡Œ `mvn clean package`
   - å¯åŠ¨åº”ç”¨ï¼ˆçº¦3-5åˆ†é’Ÿï¼‰

### 2.2 æ·»åŠ MySQLæ•°æ®åº“

1. **åˆ›å»ºæ•°æ®åº“**
   - åœ¨é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡»å³ä¸Šè§’ **"+ New"**
   - é€‰æ‹© **"Database"** â†’ **"Add MySQL"**
   - ç­‰å¾…MySQLå®ä¾‹åˆ›å»ºå®Œæˆ

2. **è¿æ¥æ•°æ®åº“å’ŒæœåŠ¡**
   - Railwayä¼šè‡ªåŠ¨è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
     - `MYSQLHOST`
     - `MYSQLPORT`
     - `MYSQLDATABASE`
     - `MYSQLUSER`
     - `MYSQLPASSWORD`

### 2.3 é…ç½®ç¯å¢ƒå˜é‡

1. **æ‰“å¼€è®¾ç½®**
   - ç‚¹å‡»åç«¯æœåŠ¡ï¼ˆsuper-rps-backendï¼‰
   - åˆ‡æ¢åˆ° **"Variables"** æ ‡ç­¾

2. **æ·»åŠ å˜é‡**ï¼ˆç‚¹å‡» **"+ New Variable"**ï¼‰

```bash
# å˜é‡åç§°ï¼šSPRING_DATASOURCE_URL
# å˜é‡å€¼ï¼š
jdbc:mysql://${MYSQLHOST}:${MYSQLPORT}/${MYSQLDATABASE}?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true

# å˜é‡åç§°ï¼šSPRING_DATASOURCE_USERNAME
# å˜é‡å€¼ï¼š
${MYSQLUSER}

# å˜é‡åç§°ï¼šSPRING_DATASOURCE_PASSWORD
# å˜é‡å€¼ï¼š
${MYSQLPASSWORD}

# å˜é‡åç§°ï¼šJWT_SECRET
# å˜é‡å€¼ï¼ˆéšä¾¿æ”¹æˆä½ çš„å¯†é’¥ï¼‰ï¼š
your-secret-jwt-key-2025-production-super-rps

# å˜é‡åç§°ï¼šJWT_EXPIRATION
# å˜é‡å€¼ï¼š
604800000
```

3. **ä¿å­˜å¹¶é‡æ–°éƒ¨ç½²**
   - ç¯å¢ƒå˜é‡ä¼šè§¦å‘è‡ªåŠ¨é‡æ–°éƒ¨ç½²

### 2.4 åˆå§‹åŒ–æ•°æ®åº“

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Railwayæ§åˆ¶å°

1. ç‚¹å‡»MySQLæœåŠ¡
2. ç‚¹å‡» **"Data"** æ ‡ç­¾
3. ç‚¹å‡» **"Query"** æŒ‰é’®
4. å¤åˆ¶ `database/init.sql` çš„å†…å®¹
5. ç²˜è´´å¹¶æ‰§è¡Œ

#### æ–¹æ³•äºŒï¼šä½¿ç”¨MySQLå®¢æˆ·ç«¯

1. è·å–è¿æ¥ä¿¡æ¯ï¼ˆåœ¨MySQLæœåŠ¡çš„ **"Connect"** æ ‡ç­¾ï¼‰
2. ä½¿ç”¨ä»»æ„MySQLå®¢æˆ·ç«¯è¿æ¥
3. æ‰§è¡Œ `init.sql`

### 2.5 ç”Ÿæˆè®¿é—®åŸŸå

1. ç‚¹å‡»åç«¯æœåŠ¡
2. åˆ‡æ¢åˆ° **"Settings"** æ ‡ç­¾
3. æ‰¾åˆ° **"Domains"** éƒ¨åˆ†
4. ç‚¹å‡» **"Generate Domain"**
5. å¤åˆ¶ç”Ÿæˆçš„åŸŸåï¼ˆå¦‚ï¼š`super-rps-backend-xxx.up.railway.app`ï¼‰

---

## ğŸ”— ç¬¬ä¸‰æ­¥ï¼šè¿æ¥å‰åç«¯ï¼ˆ5åˆ†é’Ÿï¼‰

### 3.1 æµ‹è¯•åç«¯API

åœ¨æµè§ˆå™¨æˆ–curlä¸­æµ‹è¯•ï¼š

```bash
# æ›¿æ¢ä¸ºä½ çš„åç«¯åŸŸå
https://your-backend.up.railway.app/api/auth/check
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "success": true,
  "code": 200,
  "message": "success",
  "data": {
    "authenticated": false,
    "userInfo": null
  }
}
```

### 3.2 æ›´æ–°å‰ç«¯APIåœ°å€

ä¿®æ”¹å‰ç«¯é¡¹ç›®ä¸­çš„3ä¸ªæ–‡ä»¶ï¼Œå°†APIåœ°å€æ”¹ä¸ºä½ çš„åç«¯åŸŸåï¼š

#### æ–‡ä»¶1ï¼š`Front end/src/main/resources/static/js/auth.js`

æ‰¾åˆ°ç¬¬8è¡Œï¼š
```javascript
const API_CONFIG = {
  baseURL: 'https://your-backend.up.railway.app/api/auth',  // ğŸ‘ˆ æ”¹è¿™é‡Œ
  endpoints: {
    login: '/login',
    register: '/register',
    logout: '/logout',
    checkAuth: '/check'
  }
};
```

#### æ–‡ä»¶2ï¼š`Front end/src/main/resources/static/js/game.js`

æ‰¾åˆ°ç¬¬17è¡Œï¼š
```javascript
const API_CONFIG = {
  baseURL: 'https://your-backend.up.railway.app/api/game',  // ğŸ‘ˆ æ”¹è¿™é‡Œ
  endpoints: {
    save: '/save'
  }
};
```

#### æ–‡ä»¶3ï¼š`Front end/src/main/resources/static/js/history.js`

æ‰¾åˆ°ç¬¬5è¡Œï¼š
```javascript
const API_CONFIG = {
  baseURL: 'https://your-backend.up.railway.app/api/game',  // ğŸ‘ˆ æ”¹è¿™é‡Œ
  endpoints: {
    history: '/history'
  }
};
```

### 3.3 é‡æ–°éƒ¨ç½²å‰ç«¯

```bash
# è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•
cd "d:\å­¦ä¹ èµ„æ–™\å“ˆåŸºç±³å“Ÿå¤§ä¸‰ä¸Šå¤š\Server-side Development\Front end"

# æäº¤æ›´æ”¹
git add .
git commit -m "è¿æ¥åç«¯API"
git push
```

Railwayä¼šè‡ªåŠ¨æ£€æµ‹æ¨é€å¹¶é‡æ–°éƒ¨ç½²å‰ç«¯ï¼ˆçº¦2åˆ†é’Ÿï¼‰ã€‚

---

## âœ… ç¬¬å››æ­¥ï¼šéªŒè¯éƒ¨ç½²

### 4.1 è®¿é—®å‰ç«¯

æ‰“å¼€ https://supersrp-production.up.railway.app/

### 4.2 æµ‹è¯•åŠŸèƒ½

1. **ç‚¹å‡»"ç™»å½•"æŒ‰é’®**
2. **æ³¨å†Œæ–°è´¦å·**
   - ç”¨æˆ·åï¼štestuser
   - å¯†ç ï¼š123456
3. **å¦‚æœæˆåŠŸ**ï¼Œè¯´æ˜å‰åç«¯å·²è¿é€šï¼ğŸ‰

### 4.3 æŸ¥çœ‹æ•°æ®

åœ¨Railway MySQLæœåŠ¡çš„ **"Data"** æ ‡ç­¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ–°æ³¨å†Œçš„ç”¨æˆ·æ•°æ®ã€‚

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå‰ç«¯æ— æ³•è¿æ¥åç«¯

**æ£€æŸ¥é¡¹ï¼š**
- [ ] åç«¯åŸŸåæ˜¯å¦æ­£ç¡®
- [ ] åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆæŸ¥çœ‹Logsï¼‰
- [ ] CORSé…ç½®æ˜¯å¦æ­£ç¡®
- [ ] å‰ç«¯APIåœ°å€æ˜¯å¦å·²æ›´æ–°

**è§£å†³ï¼š**
æŸ¥çœ‹Railwayåç«¯æœåŠ¡çš„ **"Deployments"** â†’ **"View Logs"**

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶ï¼š** æ—¥å¿—æ˜¾ç¤º `Communications link failure`

**è§£å†³ï¼š**
1. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
2. ç¡®è®¤MySQLæœåŠ¡å·²å¯åŠ¨
3. é‡æ–°éƒ¨ç½²åç«¯æœåŠ¡

### é—®é¢˜3ï¼šæ³¨å†Œ/ç™»å½•å¤±è´¥

**æ£€æŸ¥é¡¹ï¼š**
- [ ] æ•°æ®åº“æ˜¯å¦å·²åˆå§‹åŒ–ï¼ˆæ‰§è¡Œinit.sqlï¼‰
- [ ] JWT_SECRETæ˜¯å¦å·²è®¾ç½®
- [ ] åç«¯æ—¥å¿—ä¸­æ˜¯å¦æœ‰é”™è¯¯

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹æ—¥å¿—

1. è¿›å…¥Railwayé¡¹ç›®
2. ç‚¹å‡»åç«¯æœåŠ¡
3. ç‚¹å‡» **"Deployments"**
4. ç‚¹å‡»æœ€æ–°éƒ¨ç½²çš„ **"View Logs"**

### æŸ¥çœ‹æ•°æ®åº“

1. ç‚¹å‡»MySQLæœåŠ¡
2. ç‚¹å‡» **"Data"** æ ‡ç­¾
3. å¯ä»¥æŸ¥è¯¢å’Œç®¡ç†æ•°æ®

### é‡æ–°éƒ¨ç½²

ä»£ç ä¿®æ”¹åï¼š
```bash
git add .
git commit -m "æ›´æ–°å†…å®¹"
git push
```

Railwayä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼

---

## ğŸ’° è´¹ç”¨è¯´æ˜

- **Railwayå…è´¹é¢åº¦**ï¼š$5/æœˆ
- **é¢„è®¡æ¶ˆè€—**ï¼š
  - åç«¯ï¼š$1-2/æœˆ
  - MySQLï¼š$1-2/æœˆ
  - **æ€»è®¡ï¼š$2-4/æœˆ**

å…è´¹é¢åº¦å®Œå…¨å¤Ÿç”¨ï¼ä¸éœ€è¦ç»‘å®šä¿¡ç”¨å¡ã€‚

---

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

**ä½ ç°åœ¨æ‹¥æœ‰ï¼š**
- âœ… åœ¨çº¿å‰ç«¯ï¼šhttps://supersrp-production.up.railway.app/
- âœ… åœ¨çº¿åç«¯APIï¼šhttps://your-backend.up.railway.app/
- âœ… äº‘ç«¯MySQLæ•°æ®åº“
- âœ… å®Œæ•´çš„å‰åç«¯åˆ†ç¦»æ¶æ„

**å¯ä»¥åˆ†äº«ç»™æœ‹å‹ä¸€èµ·ç©äº†ï¼** ğŸ®

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# éƒ¨ç½²åç«¯
cd "Back end"
git init
git add .
git commit -m "deploy"
git remote add origin https://github.com/ç”¨æˆ·å/super-rps-backend.git
git push -u origin main

# æ›´æ–°å‰ç«¯
cd "Front end"
git add .
git commit -m "update api url"
git push

# æŸ¥çœ‹Railwayé¡¹ç›®
# https://railway.app/project/ä½ çš„é¡¹ç›®ID
```

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹ `DEPLOY_RAILWAY.md` è·å–è¯¦ç»†æ–‡æ¡£ã€‚

